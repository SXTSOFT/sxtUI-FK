<md-content flex layout="column">
    <div ng-switch="vm.switch">
        <div ng-switch-default>
            <table class="table wk-table" width="100%">
                <thead>
                    <tr style="border-bottom:1px solid #fff;">
                        <th rowspan="2" width="30%" style="border-right:1px solid #fff;">项目名称</th>
                        <th colspan="3" style="border-right:1px solid #fff; text-align: center;">验收批数 <span style="font-weight: normal">总数(不合格)</span></th>
                    </tr>
                    <tr>
                        <th style="border-right:1px solid #fff; text-align: center;">土建</th>
                        <th style="border-right:1px solid #fff; text-align: center;">机电</th>
                        <th style="border-right:1px solid #fff; text-align: center;">装修</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom:1px solid #ddd; padding:8px" ng-repeat="item in vm.data">
                        <td><a href="javascript:void(0)" ng-click="vm.showDetail(item)">{{item.name}}</a></td>
                        <td align="center">{{item.TJ}}</td>
                        <td align="center">{{item.JD}}</td>
                        <td align="center">{{item.ZX}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div ng-switch-when="detail">
            <div flex layout="row" style="padding:20px;">
                <!--<md-radio-group ng-model="vm.selType">
                    <md-radio-button style="display: inline-block; margin-bottom: 0;" value="1">数量统计</md-radio-button>
                    <md-radio-button style="display: inline-block; margin-bottom: 0;" value="2">监理验收统计</md-radio-button>
                </md-radio-group>-->
                <md-button class="md-raised" ng-class="{'md-primary':vm.selType==1}" ng-click="vm.selType=1" style="margin-right:0;margin-left:auto;">材料数量统计</md-button>
                <md-button class="md-raised" ng-class="{'md-primary':vm.selType==2}" ng-click="vm.selType=2" style="margin-left:0;margin-right:auto;">监理验收统计</md-button>
            </div>
            <table ng-show="vm.selType==1" class="table wk-table" width="100%">
                <caption>
                    <h3 style="text-align: center">{{vm.current.name}}</h3>
                </caption>
                <thead>
                    <tr style="border-bottom:2px solid #000;">
                        <th width="25%">材料</th>
                        <th width="15%">批次</th>
                        <th width="15%">总量</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in batchData" style="border-bottom:1px solid #ddd; padding:8px">
                        <td><a href="javascript:void(0)" ng-click="vm.showResult(item)">{{item.ProcedureName}}</a></td>
                        <td>{{item.BatchCount}}</td>
                        <td>{{item.Count}}{{item.Unit}}</td>
                    </tr>
                </tbody>
            </table>

            <table ng-show="vm.selType==2" class="table wk-table" width="100%">
                <caption>
                    <h3 style="text-align: center">{{vm.current.name}}</h3>
                </caption>
                <thead>
                    <tr>
                        <th colspan="6" style="text-align:center;">监理验收数量统计</th>
                    </tr>
                    <tr style="border-bottom:2px solid #000;">
                        <th>监理单位</th>
                        <th>验收人员</th>
                        <th>验收数量</th>
                        <th>土建</th>
                        <th>机电</th>
                        <th>装修</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in supervisorData" style="border-bottom:1px solid #ddd; padding:8px">
                        <td>{{item.SupervisorCompanyName}}</td>
                        <td>{{item.CheckUser}}</td>
                        <td>{{item.TJ+item.JD+item.ZX}}</td>
                        <td>{{item.TJ}}</td>
                        <td>{{item.JD}}</td>
                        <td>{{item.ZX}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div ng-switch-when="result">
            <md-list class="md-dense" flex style="padding: 0;">
                <div flex ng-repeat="item in mlCheckData">
                    <md-list-item>
                        <div class="md-list-item-text" flex layout="column" ng-click="goMaterialDetail(item.Id)">
                            <!--<h4>{{ item.RegionNameTree }}</h4>-->
                            <p>{{ item.RegionName }}》{{ item.ProcedureName }}》{{ item.Manufactor }}》{{ item.Count }}{{item.Unit}}》{{item.CheckUser}}》{{item.CheckTime}}</p>
                        </div>
                        <md-button style="margin: 0;" class="md-secondary md-primary" ui-sref="app.szgc.ys.material({id:item.Id})" ng-show="(item.IsInspection==1 || item.IsInspection==0) && item.Report == 0">追加送检报告</md-button>
                        <md-divider></md-divider>
                    </md-list-item>
                </div>
            </md-list>
        </div>
    </div>
    <md-progress-circular ng-show="vm.loading" md-diameter="20" md-mode="indeterminate"></md-progress-circular>
</md-content>
<div ng-show="vm.switch == 'result'" style="position: absolute; top:0px; right:0px;">
    <toggle-menu inst="vm.listHide"></toggle-menu>
</div>