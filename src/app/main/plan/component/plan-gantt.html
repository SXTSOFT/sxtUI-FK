<div id="gantt-chart" class="page-layout carded fullwidth"
     ng-class="{'date-filter-active':vm.dateFilterActive, 'search-active': vm.searchActive}" layout="row">


  <!-- TOP BACKGROUND -->
  <div class="md-accent-bg"></div>
  <!-- / TOP BACKGROUND -->

  <!-- CENTER -->
  <div class="centera" layout="column" flex>


    <!-- / CONTENT HEADER -->

    <!-- CONTENT CARD -->
    <div class="content-card" layout="column" flex>

      <!-- CONTENT TOOLBAR -->
      <div class="toolbar" layout="row" layout-align="space-between center">

        <div layout="row" layout-align="start center">

          <md-button ng-click="vm.addDialog($event)" class="md-icon-button add-row-button" aria-label="Add"
                     translate
                     translate-attr-aria-label="GANTT.ADD">
            <md-icon md-font-icon="icon-plus"></md-icon>
          </md-button>

        </div>

        <div layout="row" layout-align="start center">

          <div class="zoom" layout="row" layout-align="end center">
            <span class="label">Zoom:</span>

            <div class="input-wrapper" layout="row" layout-align="center center">
              <md-button class="md-icon-button" aria-label="minus"
                         ng-click="vm.options.zoom  = vm.options.zoom - 0.1">
                <md-icon md-font-icon="icon-minus"></md-icon>
              </md-button>
              <input type="number" ng-model="vm.options.zoom" step="0.1" min="0.1" max="5">
              <md-button class="md-icon-button" aria-label="plus"
                         ng-click="vm.options.zoom =vm.options.zoom + 0.1">
                <md-icon md-font-icon="icon-plus"></md-icon>
              </md-button>
            </div>
          </div>

          <md-select class="simplified select-scale" ng-model="vm.options.scale" placeholder="Scale">
            <md-option value="hour" translate="GANTT.HOUR">hour</md-option>
            <md-option value="3 hours" translate="GANTT.3_HOURS">3 hours</md-option>
            <md-option value="day" translate="GANTT.DAY">day</md-option>
            <md-option value="week" translate="GANTT.WEEK">week</md-option>
            <md-option value="2 weeks" translate="GANTT.2_WEEKS">2 weeks</md-option>
            <md-option value="month" translate="GANTT.MONTH">month</md-option>
            <md-option value="quarter" translate="GANTT.QUARTER">quarter</md-option>
            <md-option value="6 months" translate="GANTT.6_MONTHS">6 months</md-option>
            <md-option value="year" translate="GANTT.YEAR">year</md-option>
          </md-select>

          <div class="divider-vertical"></div>
          <md-menu>
            <md-button class="md-icon-button"
                       ng-click="$mdOpenMenu($event)"
                       aria-label="Filters"
                       translate translate-attr-aria-label="MAIL.FILTERS">
              <md-icon md-font-icon="icon-sort"></md-icon>
            </md-button>
            <md-menu-content width="3">
              <md-menu-item>
                <md-button aria-label="disabled"
                           ng-click="vm.setSortMode(undefined)"
                           translate="GANTT.DISABLED" translate-attr-aria-label="GANTT.DISABLED">
                  disabled
                </md-button>
              </md-menu-item>
              <md-menu-item>
                <md-button aria-label="disabled"
                           ng-click="vm.setSortMode('from')"
                           translate="GANTT.FROM" translate-attr-aria-label="GANTT.FROM">
                  from
                </md-button>
              </md-menu-item>
              <md-menu-item>
                <md-button aria-label="disabled"
                           ng-click="vm.setSortMode('to')"
                           translate="GANTT.TO" translate-attr-aria-label="GANTT.TO">
                  to
                </md-button>
              </md-menu-item>
              <md-menu-item>
                <md-button aria-label="disabled"
                           ng-click="vm.setSortMode('model.name')"
                           translate="GANTT.NAME" translate-attr-aria-label="GANTT.NAME">
                  name
                </md-button>
              </md-menu-item>
            </md-menu-content>
          </md-menu>

        </div>
      </div>
      <!-- / CONTENT TOOLBAR -->

      <!-- CONTENT -->
      <md-content id="chart-container" class="content" flex layout="column">

        <div flex layout-fill
             id="gantt"
             gantt
             data="vm.data"
             timespans="vm.timespans"
             show-side="vm.options.labelsEnabled"
             daily="vm.options.daily"
             filter-task="{'name': vm.options.filterTask}"
             filter-row="{'name': vm.options.filterRow}"
             sort-mode="vm.options.sortMode"
             view-scale="vm.options.scale"
             column-width="vm.getColumnWidth(vm.options.width, vm.options.scale, vm.options.zoom)"
             auto-expand="vm.options.autoExpand"
             task-out-of-range="vm.options.taskOutOfRange"
             from-date="vm.options.fromDate"
             to-date="vm.options.toDate"
             allow-side-resizing="vm.options.allowSideResizing"
             task-content="vm.options.taskContentEnabled ? vm.options.taskContent : undefined"
             row-content="vm.options.rowContentEnabled ? vm.options.rowContent : undefined"
             current-date="vm.options.currentDate"
             current-date-value="vm.options.currentDateValue"
             headers="vm.options.width && vm.options.shortHeaders || vm.options.longHeaders"
             max-height="vm.options.maxHeight"
             time-frames="vm.options.timeFrames"
             date-frames="vm.options.dateFrames"
             time-frames-non-working-mode="vm.options.timeFramesNonWorkingMode"
             time-frames-magnet="vm.options.timeFramesMagnet"
             api="vm.options.api"
             column-magnet="vm.options.columnMagnet">
          <gantt-tree enabled="vm.options.sideMode === 'Tree' || vm.options.sideMode === 'TreeTable'"
                      header-content="vm.options.treeHeaderContent"
                      keep-ancestor-on-filter-row="true">
          </gantt-tree>
          <gantt-table enabled="vm.options.sideMode === 'Table' || vm.options.sideMode === 'TreeTable'"
                       columns="vm.options.sideMode === 'TreeTable' ? vm.options.treeTableColumns : vm.options.columns"
                       headers="vm.options.columnsHeaders"
                       classes="vm.options.columnsClasses"
                       formatters="vm.options.columnsFormatters"
                       contents="vm.options.columnsContents"
                       header-contents="vm.options.columnsHeaderContents">
          </gantt-table>
          <gantt-groups
            enabled="vm.options.groupDisplayMode === 'group' || vm.options.groupDisplayMode === 'overview' || vm.options.groupDisplayMode === 'promote'"
            display="vm.options.groupDisplayMode"></gantt-groups>
          <!--<gantt-tooltips></gantt-tooltips>-->
          <gantt-bounds></gantt-bounds>
          <gantt-progress></gantt-progress>
          <gantt-sortable></gantt-sortable>
          <gantt-movable enabled="!vm.options.readOnly"></gantt-movable>
          <gantt-draw-task
            enabled="vm.options.canDraw"
            move-threshold="2"
            task-factory="vm.options.drawTaskFactory">
          </gantt-draw-task>
          <gantt-overlap></gantt-overlap>
          <gantt-resize-sensor></gantt-resize-sensor>
          <gantt-dependencies></gantt-dependencies>
        </div>

      </md-content>
      <!-- / CONTENT -->

    </div>
    <!-- / CONTENT CARD -->

  </div>
  <!-- / CENTER -->

</div>
