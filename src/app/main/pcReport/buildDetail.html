<section layout="column" flex>
  <div flex="none" ng-if="vm.build.loading" layout="row">
    <md-progress-circular flex="none"  md-mode="indeterminate" md-diameter="20px"></md-progress-circular> <h4 flex style="text-align: center">{{vm.build.name}}</h4>
  </div>
  <div flex sxt-msk-charts  build="vm.build" procedures="vm.procedures" >
  </div>
  <md-sidenav layout="column" class="md-sidenav-right" md-is-open="vm.build.isOpen" md-component-id="procedure_right">
    <md-toolbar flex="none" class="md-theme-indigo">
      <h4 class="md-toolbar-tools">选择工序(点击左侧灰色区关闭)</h4>
    </md-toolbar>
    <md-tabs md-border-bottom flex style="background-color:white">
      <md-tab label="已选工序({{gxSelected.length}})">
        <md-tab-content layout="column">
          <md-content flex layout="row">
            <md-list style="box-shadow:1px 0px 15px 0 #d8d8d8 " flex="40" ms-scroll>
              <md-list-item ng-repeat="item in gxSelected">
                <md-checkbox ng-click="remove(item)" ng-model="item.checked" style="margin-right: 8px">
                  {{item.AcceptanceItemName}}
                </md-checkbox>
                <p flex>{{item.AcceptanceItemName}}</p>
              </md-list-item>
              <span flex></span>
            </md-list>
          </md-content>
        </md-tab-content>
      </md-tab>
      <md-tab ng-repeat="gx1 in procedures" label="{{gx1.SpecialtyName}}">
        <md-tab-content layout="column">
          <md-content flex layout="column">
            <div flex layout="row">
              <div flex="40" style="position: relative" ms-scroll layout="column">
                <md-list style="margin-left:8px ">
                  <md-list-item ng-click="selectSpecialtyLow(item,gx1)" layout="row"
                                ng-repeat="item in  gx1.SpecialtyChildren">
                    <p>{{item.SpecialtyName}}</p>
                  </md-list-item>
                </md-list>
              </div>
              <md-list flex style="box-shadow:-1px 0px 15px 0 #d8d8d8 ">
                <md-list-item layout="row" ng-repeat="item in  gx1.WPAcceptanceList">
                  <md-checkbox ng-click="choosego(item)" ng-model="item.checked" style="margin-right: 8px">
                  </md-checkbox>
                  <p flex>{{item.AcceptanceItemName}}</p>
                </md-list-item>
              </md-list>
            </div>
          </md-content>
        </md-tab-content>
      </md-tab>
    </md-tabs>
  </md-sidenav>

  <div style="position: fixed; top:45px; right:0px;">
    <md-button class="md-fab md-mini"  ng-click="vm.openGx()">
      工序
    </md-button>
  </div>﻿
</section>
