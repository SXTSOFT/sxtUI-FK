<section layout="column" flex>
  <div flex="none"  layout="row">
    <md-progress-circular flex="none" ng-if="false" md-mode="indeterminate" md-diameter="20px"></md-progress-circular> <h4 flex ng-if="!vm.loading" style="text-align: center">{{vm.build.name}}</h4>
  </div>
  <div flex sxt-msk-charts  build="vm.build" procedures="gxSelected" >
  </div>
  <md-sidenav layout="column" class="md-sidenav-right" md-is-open="vm.build.isOpen" md-component-id="procedure_right">
    <md-toolbar flex="none" class="md-theme-indigo">
      <h4 class="md-toolbar-tools">选择工序(点击左侧灰色区关闭)</h4>
    </md-toolbar>
    <md-tabs md-border-bottom flex>
      <md-tab label="已选工序({{gxSelected.length}})">
        <md-tab-content layout="column">
          <md-content flex layout="row">
            <md-list  flex ms-scroll>
              <md-list-item style="background: white"  ng-repeat="item in gxSelected">
                <md-checkbox ng-click="remove(item)" ng-model="item.checked" style="margin-right: 8px">
                  {{item.AcceptanceItemName}}
                </md-checkbox>
                <p flex>{{item.AcceptanceItemName}}</p>
                <md-divider style="margin-left: 16px; " ng-if="!$last"></md-divider>
              </md-list-item>
              <span flex></span>
            </md-list>
          </md-content>
        </md-tab-content>
      </md-tab>
      <md-tab ng-repeat="gx1 in procedures" label="{{gx1.SpecialtyName}}">
        <md-tab-content layout="column">
          <md-list>
            <md-list-item  layout="column"  ng-repeat="item in  gx1.SpecialtyChildren">
              <md-subheader class="md-no-sticky" style="background:transparent">{{item.SpecialtyName}}</md-subheader>
              <md-list>
                <md-list-item layout="row" style="background: white" ng-repeat="k in  item.WPAcceptanceList">
                  <md-checkbox ng-click="choosego(k)" ng-model="k.checked" style="margin-right: 8px">
                  </md-checkbox>
                  <p flex>{{k.AcceptanceItemName}}</p>
                  <md-divider style="margin-left: 16px; " ng-if="!$last"></md-divider>
                </md-list-item>
              </md-list>
            </md-list-item>
          </md-list>
        </md-tab-content>
      </md-tab>
    </md-tabs>
  </md-sidenav>
  <div style="position: fixed; top:45px; right:0px;" ng-if="!vm.loading">
    <md-button class="md-fab md-mini"  ng-click="vm.openGx()">
      工序
    </md-button>
  </div>﻿
</section>
