<md-toolbar ng-if="!vm.isMobile" class="md-hue-1">
    <div class="md-toolbar-tools">
        <h4>
            <span>实测实量</span>
        </h4>
    </div>
</md-toolbar>
<div ng-if="!vm.isMobile||vm.isiPad">
    <md-card style="background-color: white" md-theme-watch>
        <md-card-content>
            <sxt-projects-jd ng-model="project.pid" region-type="project.type" region-name="project.typeName" project-id="project.projectId" project-name="project.projectName" id-tree="project.idTree" name-tree="project.nameTree" on-queryed="project.onQueryed" is-more="project.isMore">
            </sxt-projects-jd>
            <div layout="row" flex style="margin-top: -18px">
                <md-input-container md-theme="default" flex>
                    <label>实测项</label>
                    <md-select ng-model="currentSC" class="md-no-underline" name="type" style="border: 1px solid #ddd;height: 32px;border-radius: 5px;padding-left: 8px">
                        <md-option ng-repeat="item in vm.mes" ng-value="item.AcceptanceItemID">{{item.MeasureItemName}}</md-option>
                    </md-select>
                </md-input-container>
            </div>
        </md-card-content>
    </md-card>
    <form method="post" action="http://emp.chngalaxy.com:9091/api/MaterialPlan/GetMaterialReportXls" target="_blank">
        <input id="export" type="hidden" name="table" />
        <input id="tital" type="hidden" name="tital" value="实测实量报表" />
        <md-button class="md-raised md-primary" type="submit" ng-click="vm.printBatchCount()">Excel导出</md-button>
    </form>
    <div flex style="margin: 24px 16px" id="divReport">
        <table class="table table-hover sctable" style="margin-top: 20px;" >
            <thead>
                <tr>
                    <th style="width: 60px;text-align: center;border: 1px solid #ddd;">序号</th>
                    <th style="width:20%;text-align: center;border: 1px solid #ddd;">时间</th>
                    <th style="width:20%;text-align: center;border: 1px solid #ddd;">项目</th>
                    <th style="width: 20%;text-align: center;border: 1px solid #ddd;" >实测项</th>
                    <th style="text-align: center;border: 1px solid #ddd;">区域</th>
                    <th style="min-width: 50px;text-align: center;border: 1px solid #ddd;">操作</th>
                </tr>
            </thead>
            <tbody>
                <tr data-ng-repeat="item in vm.source">
                    <td style="vertical-align: middle;border: 1px solid #ddd;">{{$index+1}}</td>
                    <td style="text-align: left;padding-left: 36px;min-width: 120px;vertical-align: middle;border: 1px solid #ddd;">{{item.MeasureTime}}</td>
                    <td style="text-align: left;padding-left: 32px;min-width: 120px;vertical-align: middle;border: 1px solid #ddd;">
                        {{item.ProjectName}}
                    </td>
                    <td style="text-align: left;min-width: 120px;padding-left: 15px;vertical-align: middle;border: 1px solid #ddd;">
                        {{item.MeasureItemName}}
                    </td>
                    <td style="text-align: left;padding-left: 15px;min-width: 120px;vertical-align: middle;border: 1px solid #ddd;">
                        {{item.AreaName}}
                    </td>
                    <td style="vertical-align: middle;border: 1px solid #ddd;">
                      <md-button style="text-align: left" ng-if="vm.btnShow(item,'_0')" class="md-primary" ng-click="vm.go(item,0)" aria-label="Settings">
                        <md-icon md-font-icon="icon-magnify" class="icon s24"></md-icon>总包</md-button>
                      <md-button style="text-align: left"  ng-if="vm.btnShow(item,'_2')" class="md-primary" ng-click="vm.go(item,2)" aria-label="Settings">
                        <md-icon md-font-icon="icon-magnify" class="icon s24"></md-icon>监理</md-button>
                        <md-button style="text-align: left"  ng-if="vm.btnShow(item,'_4')" class="md-primary" ng-click="vm.go(item,4)" aria-label="Settings">
                            <md-icon md-font-icon="icon-magnify" class="icon s24"></md-icon>项目部</md-button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div layout="row">
            <span flex></span>
            <md-select ng-model="pageing.pageSize" class="pageSZ">
                <md-option value="10">10</md-option>
                <md-option value="20">20</md-option>
                <md-option value="40">40</md-option>
                <md-option value="80">80</md-option>
                <md-option value="100">100</md-option>
            </md-select>
            <div style="text-align: right;margin-right: 15px" paging page="pageing.page" page-size="pageing.pageSize" total="pageing.total" paging-action="vm.pageAction('bar', page, pageSize, total)">
            </div>
        </div>
    </div>
</div>

<div flex layout="column" ng-if="vm.isMobile&&!vm.isiPad">
    <section-filter flex layout="column" source="vm.source" gx-selected="vm.gxSelected" sec-selected="vm.secSelected"></section-filter>
</div>
